(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a(239)},118:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),o=a.n(c),s=(a(118),a(77),a(17)),l=a(22),i=a(28),u=a(29),p=a(33),m=a(30),d=a(34),f=a(25),b=a.n(f),E=a(12),h=a(18),O=a.n(h),v=a(43),y=a(108),j=a.n(y).a.create({baseURL:"https://reduxblog.herokuapp.com/api"}),N="?key=HOUSTONWEGOTAPROBLEM12345",w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).renderPosts=function(){return b.a.map(a.props.posts,function(e){return r.a.createElement(s.b,{key:e.id,className:"list-group-item custom",to:"/posts/".concat(e.id)},r.a.createElement("li",null,e.title))})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-between p-3"},r.a.createElement("h3",null,"Posts List"),r.a.createElement(s.b,{to:"/posts/new",className:"btn btn-primary"},"Add a Post")),r.a.createElement("ul",{className:"list-group"},this.renderPosts()))}}]),t}(r.a.Component),P=Object(E.b)(function(e){return{posts:e.posts}},{fetchPosts:function(){return function(){var e=Object(v.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/posts".concat(N));case 2:a=e.sent,t({type:"FETCH_POSTS",payload:a.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(w),g=a(241),x=a(240),C={title:{},categories:{},content:{}},T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).renderField=function(e){var t=e.input,a=e.label,n=e.meta,c=n.touched,o=n.error,s="form-control ".concat(c&&o?"is-invalid":"");return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a),"Content"!==a?r.a.createElement("input",Object.assign({className:s},t,{autoComplete:"off"})):r.a.createElement("textarea",Object.assign({},t,{className:s,rows:"5"})),c&&o?r.a.createElement("small",{className:"text-danger"},o):null)},a.onSubmit=function(e){a.props.createPost(e).then(function(){a.props.history.push("/")})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"py-3 m-0"},"Create Post"),r.a.createElement("div",{className:"card p-4"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(g.a,{label:"Title",name:"title",component:this.renderField}),r.a.createElement(g.a,{label:"Category",name:"categories",component:this.renderField}),r.a.createElement(g.a,{label:"Content",name:"content",component:this.renderField}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement(s.b,{className:"btn btn-danger ml-3",to:"/"},"Cancel"))))}}]),t}(r.a.Component),k=Object(x.a)({validate:function(e){var t={};return b.a.each(C,function(a,n){e[n]||(t[n]="Enter any ".concat(n))}),t},form:"PostNewForm"})(Object(E.b)(null,{createPost:function(e){return function(){var t=Object(v.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.post("/posts".concat(N),e);case 2:n=t.sent,a({type:"CREATE_POST",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(T)),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).onDeleteClick=function(){var e=a.props.match.params.id;a.props.deletePost(e).then(function(){a.props.history.push("/")})},a.renderPost=function(e){var t=e.title,n=e.categories,c=e.content;return r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-header text-center"},r.a.createElement("h3",{className:"m-0"},t)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},c)),r.a.createElement("div",{className:"card-footer text-muted d-flex justify-content-between align-items-center"},r.a.createElement("div",null,r.a.createElement("span",{className:"span-text-custom"},"Category:")," ",n),r.a.createElement("button",{onClick:a.onDeleteClick,className:"btn btn-danger"},"Delete")))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.post){var e=this.props.match.params.id;this.props.fetchPost(e)}}},{key:"render",value:function(){return this.props.post?r.a.createElement("div",{className:"pt-3"},r.a.createElement("div",null,r.a.createElement(s.b,{className:"arrow-back-main py-2",to:"/"},r.a.createElement("span",{className:"arrow-back"},"<---"),"Back to list ")),this.renderPost(this.props.post)):r.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100"},r.a.createElement("div",{className:"loader"}))}}]),t}(r.a.Component),_=Object(E.b)(function(e,t){return{post:e.posts[t.match.params.id]}},{fetchPost:function(e){return function(){var t=Object(v.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.get("/posts/".concat(e).concat(N));case 2:n=t.sent,a({type:"FETCH_POST",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(v.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.delete("/posts/".concat(e).concat(N));case 2:n=t.sent,a({type:"FETCH_POST",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(S),F=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(s.a,{basename:"/"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:P}),r.a.createElement(l.a,{path:"/posts/new",exact:!0,component:k}),r.a.createElement(l.a,{path:"/posts/:id",exact:!0,component:_}))))},D=a(5),A=a(111),H=a(242),L=a(42),R=a(75),M=Object(D.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POST":return Object(R.a)({},e,Object(L.a)({},t.payload.id,t.payload));case"FETCH_POSTS":return b.a.mapKeys(t.payload,"id");case"CREATE_POST":return Object(R.a)({},e,Object(L.a)({},t.payload.id,t.payload));case"DELETE_POST":return b.a.omit(e,t.payload);default:return e}},form:H.a}),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,U=Object(D.e)(M,B(Object(D.a)(A.a)));o.a.render(r.a.createElement(E.a,{store:U},r.a.createElement(F,null)),document.getElementById("root"))},77:function(e,t,a){}},[[113,1,2]]]);
//# sourceMappingURL=main.31700ccf.chunk.js.map