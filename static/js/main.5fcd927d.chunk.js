(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){e.exports=n(212)},108:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(52),c=n.n(o),s=(n(108),n(76),n(16)),i=n(21),l=n(27),u=n(28),p=n(32),m=n(29),d=n(33),f=n(24),h=n.n(f),b=n(11),E=n(17),v=n.n(E),y=n(42),O="?key=HOUSTONWEGOTAPROBLEM12345",w="https://reduxblog.herokuapp.com/api",g=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).renderPosts=function(){return h.a.map(n.props.posts,function(e){return r.a.createElement(s.b,{key:e.id,className:"list-group-item custom",to:"/posts/".concat(e.id)},r.a.createElement("li",null,e.title))})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-between p-3"},r.a.createElement("h3",null,"Posts List"),r.a.createElement(s.b,{to:"/posts/new",className:"btn btn-primary"},"Add a Post")),r.a.createElement("ul",{className:"list-group"},this.renderPosts()))}}]),t}(r.a.Component),j=Object(b.b)(function(e){return{posts:e.posts}},{fetchPosts:function(){return function(){var e=Object(y.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts").concat(O));case 2:e.sent.json().then(function(e){t({type:"FETCH_POSTS",payload:e})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(g),N=n(214),P=n(213),k={title:{},categories:{},content:{}},T=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).renderField=function(e){var t=e.input,n=e.label,a=e.meta,o=a.touched,c=a.error,s="form-control ".concat(o&&c?"is-invalid":"");return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,n),"Content"!==n?r.a.createElement("input",Object.assign({className:s},t,{autoComplete:"off"})):r.a.createElement("textarea",Object.assign({},t,{className:s,rows:"5"})),o&&c?r.a.createElement("small",{className:"text-danger"},c):null)},n.onSubmit=function(e){n.props.createPost(e).then(function(){n.props.history.push("/")})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"py-3 m-0"},"Create Post"),r.a.createElement("div",{className:"card p-4"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(N.a,{label:"Title",name:"title",component:this.renderField}),r.a.createElement(N.a,{label:"Category",name:"categories",component:this.renderField}),r.a.createElement(N.a,{label:"Content",name:"content",component:this.renderField}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement(s.b,{className:"btn btn-danger ml-3",to:"/"},"Cancel"))))}}]),t}(r.a.Component),C=Object(P.a)({validate:function(e){var t={};return h.a.each(k,function(n,a){e[a]||(t[a]="Enter any ".concat(a))}),t},form:"PostNewForm"})(Object(b.b)(null,{createPost:function(e){return function(){var t=Object(y.a)(v.a.mark(function t(n){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(w,"/posts").concat(O),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 2:t.sent.json().then(function(e){n({type:"CREATE_POST",payload:e})});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(T)),S=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).onDeleteClick=function(){var e=n.props.match.params.id;n.props.deletePost(e).then(function(){n.props.history.push("/")})},n.renderPost=function(e){var t=e.title,a=e.categories,o=e.content;return r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-header text-center"},r.a.createElement("h3",{className:"m-0"},t)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},o)),r.a.createElement("div",{className:"card-footer text-muted d-flex justify-content-between align-items-center"},r.a.createElement("div",null,r.a.createElement("span",{className:"span-text-custom"},"Category:")," ",a),r.a.createElement("button",{onClick:n.onDeleteClick,className:"btn btn-danger"},"Delete")))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.post){var e=this.props.match.params.id;this.props.fetchPost(e)}}},{key:"render",value:function(){return this.props.post?r.a.createElement("div",{className:"pt-3"},r.a.createElement("div",null,r.a.createElement(s.b,{className:"arrow-back-main py-2",to:"/"},r.a.createElement("span",{className:"arrow-back"},"<---"),"Back to list ")),this.renderPost(this.props.post)):r.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100"},r.a.createElement("div",{className:"loader"}))}}]),t}(r.a.Component),x=Object(b.b)(function(e,t){return{post:e.posts[t.match.params.id]}},{fetchPost:function(e){return function(){var t=Object(y.a)(v.a.mark(function t(n){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(w,"/posts/").concat(e).concat(O));case 2:t.sent.json().then(function(e){n({type:"FETCH_POST",payload:e})});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(y.a)(v.a.mark(function t(n){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(w,"/posts/").concat(e).concat(O),{method:"DELETE"});case 2:t.sent.json().then(function(e){n({type:"FETCH_POST",payload:e})});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(S),_=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(s.a,{basename:"/"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:j}),r.a.createElement(i.a,{path:"/posts/new",exact:!0,component:C}),r.a.createElement(i.a,{path:"/posts/:id",exact:!0,component:x}))))},A=n(5),F=n(101),D=n(215),W=n(41),L=n(74),R=Object(A.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POST":return Object(L.a)({},e,Object(W.a)({},t.payload.id,t.payload));case"FETCH_POSTS":return h.a.mapKeys(t.payload,"id");case"CREATE_POST":return Object(L.a)({},e,Object(W.a)({},t.payload.id,t.payload));case"DELETE_POST":return h.a.omit(e,t.payload);default:return e}},form:D.a}),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,M=Object(A.e)(R,B(Object(A.a)(F.a)));c.a.render(r.a.createElement(b.a,{store:M},r.a.createElement(_,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/blog-posts",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/blog-posts","/service-worker.js");H?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):U(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):U(t,e)})}}()},76:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.5fcd927d.chunk.js.map